{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
{%- endstyle -%}

<section class="home-featured-release-strip color-{{ section.settings.color_scheme }} gradient section-{{ section.id }}-padding">
  <div class="home-featured-release-strip__inner page-width">
    <div class="home-featured-release-strip__artwork">
      {%- if section.settings.image != blank -%}
        {{ section.settings.image | image_url: width: 600 | image_tag: loading: 'lazy' }}
      {%- endif -%}
    </div>
    <div class="home-featured-release-strip__content">
      {%- if section.settings.label != blank -%}
        <p class="home-featured-release-strip__eyebrow">{{ section.settings.label }}</p>
      {%- endif -%}
      {%- if section.settings.title != blank -%}
        <h2 class="home-featured-release-strip__title">{{ section.settings.title }}</h2>
      {%- endif -%}
      {%- if section.settings.artist != blank -%}
        <p class="home-featured-release-strip__artist">{{ section.settings.artist }}</p>
      {%- endif -%}
      {%- if section.settings.meta != blank -%}
        <p class="home-featured-release-strip__meta">{{ section.settings.meta }}</p>
      {%- endif -%}
      {%- if section.settings.cta_label != blank -%}
        <a
          {% if section.settings.cta_link == blank %}
            role="link" aria-disabled="true"
          {% else %}
            href="{{ section.settings.cta_link }}"
          {% endif %}
          class="button button--primary home-featured-release-strip__cta"
        >
          {{ section.settings.cta_label | escape }}
        </a>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "COMMA – Featured release strip",
  "tag": "section",
  "class": "section section--home-featured-release-strip",
  "settings": [
    { "type": "image_picker", "id": "image", "label": "Artwork image" },
    { "type": "text", "id": "label", "label": "Eyebrow label", "default": "Featured release" },
    { "type": "text", "id": "title", "label": "Release title", "default": "Release title" },
    { "type": "text", "id": "artist", "label": "Artist", "default": "Artist name" },
    { "type": "text", "id": "meta", "label": "Format / meta", "default": "Vinyl · Digital" },
    { "type": "text", "id": "cta_label", "label": "CTA label", "default": "View release" },
    { "type": "url", "id": "cta_link", "label": "CTA link" },
    { "type": "color_scheme", "id": "color_scheme", "label": "Color scheme", "default": "scheme-1" },
    { "type": "range", "id": "padding_top", "min": 0, "max": 100, "step": 4, "unit": "px", "label": "Padding top", "default": 28 },
    { "type": "range", "id": "padding_bottom", "min": 0, "max": 100, "step": 4, "unit": "px", "label": "Padding bottom", "default": 28 }
  ],
  "blocks": [],
  "presets": [
    {
      "name": "COMMA – Featured release strip"
    }
  ]
}
{% endschema %}
