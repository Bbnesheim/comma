{%- style -%}
.section-{{ section.id }}-padding {
  padding-top: calc({{ section.settings.padding_top }}px * 0.75);
  padding-bottom: calc({{ section.settings.padding_bottom }}px * 0.75);
  padding-left: calc({{ section.settings.padding_left }}px * 0.75);
  padding-right: calc({{ section.settings.padding_right }}px * 0.75);
}

@media screen and (min-width: 1000px) {
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    padding-left: {{ section.settings.padding_left }}px;
    padding-right: {{ section.settings.padding_right }}px;
  }
}

/* FLEX LAYOUT FIX */
.map-text-section {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* Desktop (750px+) â€” switch to row or row-reverse */
@media screen and (min-width: 750px) {
  .map-text-section.before {
    flex-direction: row;
  }

  .map-text-section.after {
    flex-direction: row-reverse;
  }
}

.map-text-column {
  flex: 1 1 50%;
  padding: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.map-content iframe {
  width: 100%;
  height: 100%;
  min-height: 300px;
  border-radius: 8px;
  display: block;
}

/* TEXT FORMATTING + CUSTOM TOP PADDING */
.text-content {
  max-width: 700px;
  width: 100%;
  padding-top: {{ section.settings.text_top_padding }}px;
}
{%- endstyle -%}



<div class="color-{{ section.settings.color_scheme }} gradient">
  <div class="section-{{ section.id }}-padding">
    <div class="map-text-section {{ section.settings.text_position }}">
      <div class="map-text-column text-content-wrapper">
        <div class="text-content">
          <p>{{ section.settings.description | newline_to_br }}</p>
          <a href="{{ section.settings.button_link }}" class="button button--primary">{{ section.settings.button_label }}</a>
        </div>
      </div>
      <div class="map-text-column map-content">
        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d693.4957464634991!2d5.3228777194952395!3d60.39714879290467!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e1!3m2!1sen!2sno!4v1754490500916!5m2!1sen!2sno"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Custom Map Text Section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Your Heading Here"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Your description text goes here. You can customize this content in the editor."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button Label",
      "default": "Google Maps"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "select",
      "id": "text_position",
      "label": "Text Position",
      "options": [
        { "value": "before", "label": "Text Left, Map Right" },
        { "value": "after", "label": "Text Right, Map Left" }
      ],
      "default": "before"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color Scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Padding Settings"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 52
    },
    {
      "type": "range",
      "id": "padding_left",
      "min": 0,
      "max": 400,
      "step": 4,
      "unit": "px",
      "label": "Left padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_right",
      "min": 0,
      "max": 400,
      "step": 4,
      "unit": "px",
      "label": "Right padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "text_top_padding",
      "min": 0,
      "max": 200,
      "step": 4,
      "unit": "px",
      "label": "Top Padding for Text Section",
      "default": 0
    }
    ],
  "presets": [
    {
      "name": "Map with Text"
    }
  ]
}
{% endschema %}
